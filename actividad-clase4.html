<h1> Actividad Clase 4</h1>
<h2>Comunicaci贸n entre Servicios + REST + Eventos + Service Discovery</h2>

<p><strong>Equipo:</strong> 2</p>
<p><strong>Proyecto:</strong> AppTipoRappi</p>

<div class="section">
<h2> 1. Interacciones entre Servicios</h2>

<p><strong>Interacci贸n 1</strong></p>
<label>Servicio que env铆a: </label>
<div class="line">inventario</div>
<label>Servicio que recibe:</label>
<div class="line">Recibe la lista de productos para verificar si hay stock y seleccionar los art铆culos</div>
<label>Informaci贸n enviada:</label>
<div class="line">Cu谩ntas unidades de cada producto se necesitan</div>
<label>驴Qu茅 sucede si no responde?</label>
<div class="line">si no responde, el sistema no sabe si hay stock</div>

<p><strong>Interacci贸n 2</strong></p>
<label>Servicio que env铆a: </label>
<div class="line">Pedidos</div>
<label>Servicio que recibe:</label>
<div class="line">Log铆stica</div>
<label>Informaci贸n enviada:</label>
<div class="line">ID de la Orden, Direcci贸n de origen, Direcci贸n de destino y tama帽o del paquete (opcional).</div>
<label>驴Qu茅 sucede si no responde?</label>
<div class="line">El pedido se queda estancado en el restaurante o tienda</div>

<p><strong>Interacci贸n 3</strong></p>
<label>Servicio que env铆a: </label>
<div class="line">Repartidores</div>
<label>Servicio que recibe:</label>
<div class="line">Notificaciones</div>
<label>Informaci贸n enviada:</label>
<div class="line">ID del Cliente, Mensaje de estado (como "Tu pedido ha llegado"), y un tipo de alerta (Push Notification).</div>
<label>驴Qu茅 sucede si no responde?</label>
<div class="line">El cliente no se da cuenta de que el repartidor est谩 en su puerta y esto causa retrasos en la entrega y una mala experiencia.</div>


<div class="section">
<h2> 2. REST o Eventos</h2>

<table>
<tr>
<th>Interacci贸n</th>
<th>REST</th>
<th>Evento</th>
<th>驴Por qu茅?</th>
</tr>
<tr>
<td>1</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>2</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>3</td>
<td></td>
<td></td>
<td></td>
</tr>
</table>
</div>

<div class="section">
<h2> 3. S铆ncrono o As铆ncrono</h2>

<table>
<tr>
<th>Interacci贸n</th>
<th>S铆ncrono</th>
<th>As铆ncrono</th>
<th>Justificaci贸n</th>
</tr>
<tr>
<td>1 (Pagos)</td>
<td><strong>X</strong></td>
<td></td>
<td>El pago requiere respuesta inmediata para confirmar la compra; el usuario no puede avanzar si el cobro no se valida en el momento.</td>
</tr>
<tr>
<td>2 (Log铆stica)</td>
<td></td>
<td><strong>X</strong></td>
<td>La asignaci贸n de repartidores toma tiempo; el servicio de pedidos debe quedar libre para atender a otros usuarios mientras se busca un conductor.</td>
</tr>
<tr>
<td>3 (Notificaciones)</td>
<td></td>
<td><strong>X</strong></td>
<td>Las alertas son procesos informativos de fondo que no deben interrumpir ni bloquear el rendimiento de la aplicaci贸n principal.</td>
</tr>
</table>
</div>

<div class="section">
<h2> 4. Eventos Importantes del Sistema</h2>
1锔 <strong>Orden_Pagada:</strong> Este evento notifica al restaurante para que inicie la preparaci贸n y al servicio de inventario para descontar productos.<br><br>
2锔 <strong>Repartidor_Asignado:</strong> Se dispara cuando un conductor acepta el pedido; vincula sus datos con la orden y los env铆a al cliente.<br><br>
3锔 <strong>Entrega_Confirmada:</strong> Finaliza el ciclo de la orden, libera el pago al comercio y activa la encuesta de satisfacci贸n para el usuario.
</div>

<div class="section">
<h2> 5. An谩lisis de Fallos</h2>
<label>Servicio m谩s cr铆tico:</label> <strong>API Gateway / Servicio de Pedidos</strong>
<div class="line"></div>
<label>驴Qu茅 pasar铆a si falla?</label> Se bloquear铆a la creaci贸n de nuevas 贸rdenes y la consulta de estados, dejando la aplicaci贸n totalmente inoperativa para el negocio.
<div class="line"></div>
<label>驴El sistema debe detenerse o continuar?</label> Debe continuar de forma degradada (solo lectura para ver 贸rdenes en curso), pero detener la recepci贸n de nuevos pedidos.
<div class="line"></div>
<label>驴C贸mo podr铆an manejar este fallo?</label> Implementando <strong>Circuit Breakers</strong> para evitar colapsos en cascada y usando r茅plicas de los servicios en alta disponibilidad.
<div class="line"></div>
</div>

<div class="section">
<h2> 6. Service Discovery</h2>
<label>驴Qu茅 problema ocurre si cambia la IP de un servicio?</label> Se produce una falla de comunicaci贸n; el servicio emisor intentar谩 enviar datos a una direcci贸n que ya no existe o es incorrecta.
<div class="line"></div>
<label>驴C贸mo sabr铆a un servicio d贸nde encontrar otro?</label> Consultando un <strong>Service Registry</strong> (como Eureka o Consul), que funciona como un directorio actualizado con las IPs de cada microservicio.
<div class="line"></div>
<label>驴Por qu茅 ser铆a 煤til Service Discovery?</label> Permite el escalamiento el谩stico; si a帽adimos m谩s servidores de log铆stica por alta demanda, el sistema los encuentra autom谩ticamente sin configuraci贸n manual.
<div class="line"></div>
<label>驴D贸nde lo aplicar铆an en su sistema?</label> En la comunicaci贸n interna entre el API Gateway y los microservicios de Pagos, Cat谩logo y Log铆stica.
<div class="line"></div>
</div>

<div class="section">
<h2> 7. Mini Diagrama</h2>
<p>Dibujen:</p>
<p><strong>[Pedidos]</strong>  (1. Consulta IP de B) > <strong>[Service Discovery]</strong></p>
<p><strong>[Service Discovery]</strong>  (2. Retorna IP: 10.0.5.1) > <strong>[Pedidos]</strong></p>
<p><strong>[Pedidos]</strong>  (3. Env铆a Datos via REST) > <strong>[Pagos (IP: 10.0.5.1)]</strong></p>
</div>
